{
  "hash": "63c86691b49a72536351467a965accdf",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"PT2 Simulation\"\nauthor: \"Leopold Götsch\"\ndate: \"2024-03-04\"\ncategories: [interaktiv, simulation, PT2]\n---\n\nStreckensimulation mit Demonstration der Interaktiven Möglichkeiten von Jupyter Notebooks.\n\n[PT2 Simulation](https://mybinder.org/v2/gh/lg-eng/jupyter-notebooks/main?labpath=SimulationStreckenverhaltenLaplacePT2.ipynb)\n\n\nhttps://docs.sympy.org/latest/modules/physics/control/control.html\n\n\n## Übertragungsfunktionen\n\n::: {#3a6680b0 .cell execution_count=1}\n``` {.python .cell-code}\nfrom sympy import *\nfrom sympy.abc import s\nfrom sympy.physics.control.lti import TransferFunction\nfrom IPython.display import display, Markdown, Latex \nfrom sympy.physics.control.control_plots import step_response_plot, step_response_numerical_data\n\nKp,Ki,Kd,Kpt2,T,D,R,G,F = symbols('Kp,Ki,Kd,Kpt2,T,D,R,G,F')\nR,G,F = symbols('R,G,F')\n\n#Zahlenwerte\nvals = {Kp: 10, Ki: 1, Kd: 0 ,Kpt2: 1,T:1,D:1}\ndisplay(Markdown(\"Die Werte:\"))\ndisplay(vals)\n\n#Übertragungsfunktionen des PID Reglers\nR_eqrhs = TransferFunction(Kp, 1, s)  + TransferFunction(Ki, s, s) + TransferFunction(Kd * s, 1, s)\ndisplay(Markdown('Die Übertragungsfunktion des Reglers:'))\ndisplay(Eq(R,R_eqrhs))\ndisplay(Markdown(\"Die Übertragungsfunktion des Reglers mit Werten:\"))\nR_eqrhs_vals = R_eqrhs.subs(vals).simplify()\ndisplay(Eq(R,R_eqrhs_vals))\n#Sprungantwort des Reglers\nstep_response_plot(R_eqrhs_vals) \n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Werte:\n:::\n\n::: {.cell-output .cell-output-display}\n```\n{Kp: 10, Ki: 1, Kd: 0, Kpt2: 1, T: 1, D: 1}\n```\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Übertragungsfunktion des Reglers:\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle R = \\frac{Kp}{1} + \\frac{Ki}{s} + \\frac{Kd s}{1}$\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Übertragungsfunktion des Reglers mit Werten:\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle R = \\frac{10 s + 1}{s}$\n:::\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-2-output-7.png){width=585 height=473}\n:::\n:::\n\n\n::: {#ed68d5e2 .cell execution_count=2}\n``` {.python .cell-code}\n#Übertragungsfunktion der Strecke\ndisplay(Markdown(\"Die Übertragungsfunktion der Strecke:\"))\nG_eqrhs = TransferFunction(Kpt2, T**2*s**2+2*D*T*s+1, s)\n#G_eqrhs = TransferFunction(1, m*s**2 + kd*s + kc, s)\ndisplay(Eq(G,G_eqrhs))\ndisplay(Markdown(\"Die Übertragungsfunktion der Strecke mit Werten:\"))\nG_eqrhs_vals = G_eqrhs.subs(vals).simplify()\ndisplay(Eq(G,G_eqrhs_vals))\n#Sprungantwort der Strecke\nstep_response_plot(G_eqrhs_vals) \n\n\n#Übertragungsfunktion des geschlossenen Regelkreises\ndisplay(Markdown(\"Die Übertragungsfunktion des geschlossenen Regelkreises:\"))\nF_eqrhs = (R_eqrhs*G_eqrhs/(TransferFunction(1,1,s)+R_eqrhs*G_eqrhs)).doit()\ndisplay(Eq(F,F_eqrhs))\ndisplay(Markdown(\"Die Übertragungsfunktion des geschlossenen Regelkreises mit Werten:\"))\nF_eqrhs_vals = F_eqrhs.subs(vals).simplify()\ndisplay(Eq(F,F_eqrhs_vals))\n#Sprungantwort des geschlossenen Regelkreises\nstep_response_plot(F_eqrhs_vals)\n\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Übertragungsfunktion der Strecke:\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle G = \\frac{Kpt_{2}}{2 D T s + T^{2} s^{2} + 1}$\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Übertragungsfunktion der Strecke mit Werten:\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle G = \\frac{1}{s^{2} + 2 s + 1}$\n:::\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-3-output-5.png){width=589 height=473}\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Übertragungsfunktion des geschlossenen Regelkreises:\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle F = \\frac{Kpt_{2} s \\left(Ki + s \\left(Kd s + Kp\\right)\\right) \\left(2 D T s + T^{2} s^{2} + 1\\right)}{s \\left(Kpt_{2} \\left(Ki + s \\left(Kd s + Kp\\right)\\right) + s \\left(2 D T s + T^{2} s^{2} + 1\\right)\\right) \\left(2 D T s + T^{2} s^{2} + 1\\right)}$\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\nDie Übertragungsfunktion des geschlossenen Regelkreises mit Werten:\n:::\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n$\\displaystyle F = \\frac{10 s + 1}{s \\left(s^{2} + 2 s + 1\\right) + 10 s + 1}$\n:::\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-3-output-10.png){width=589 height=472}\n:::\n:::\n\n\n## Mathematische Operationen\nSiehe [Haager, Regelungstechnik – kompetenzorientiert](https://www.hpt.at/verlagsprogramm/schulbuecher/regelungstechnik-kompetenzorientiert)\n\n## Grafische Darstellung\n[Bodediagramm](https://docs.sympy.org/latest/modules/physics/control/control_plots.html#bode-plot)\n\n::: {#587ebb77 .cell execution_count=3}\n``` {.python .cell-code}\nfrom sympy.physics.control.control_plots import bode_plot\nbode_plot(F_eqrhs_vals, initial_exp=-4, final_exp=7)\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-4-output-1.png){width=604 height=474}\n:::\n:::\n\n\n### Sprungantwort\n[Step response](https://docs.sympy.org/latest/modules/physics/control/control_plots.html#step-response-plot)\nZeigt den Ausgang wenn am Eingang ein Dirac-Impuls angelegt wird. Vergleichbar mit dem Schlag des Klöppels auf die Glocke.\n\n::: {#aa433e5b .cell execution_count=4}\n``` {.python .cell-code}\nfrom sympy.physics.control.control_plots import step_response_plot\nstep_response_plot(F_eqrhs_vals,upper_limit=vals[T]*20)  \n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-5-output-1.png){width=589 height=472}\n:::\n:::\n\n\n### Impulsantwortantwort\n[Impuls response](https://docs.sympy.org/latest/modules/physics/control/control_plots.html#impulse-response-plot)  \nZeigt den Ausgang wenn am Eingang ein Dirac-Impuls angelegt wird. Vergleichbar mit dem Schlag des Klöppels auf die Glocke.\n\n::: {#6f270ed1 .cell execution_count=5}\n``` {.python .cell-code}\nfrom sympy.physics.control.control_plots import impulse_response_plot\nimpulse_response_plot(F_eqrhs_vals)\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-6-output-1.png){width=600 height=472}\n:::\n:::\n\n\n### Pol- Nullstellen\n[Pole-Zero Plot](https://docs.sympy.org/latest/modules/physics/control/control_plots.html#pole-zero-plot)\nZeigt den Ausgang wenn am Eingang ein Dirac-Impuls angelegt wird. Vergleichbar mit dem Schlag des Klöppels auf die Glocke.\n\n::: {#21f6f07f .cell execution_count=6}\n``` {.python .cell-code}\nfrom sympy.physics.control.control_plots import pole_zero_plot\npole_zero_plot(F_eqrhs_vals)   \n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-7-output-1.png){width=587 height=472}\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}